# SpokenBNC2014 to CWB

This repository contains an R script that transforms the downloadable XML files of <a href="http://corpora.lancs.ac.uk/bnc2014/" target="blank">Spoken BNC2014</a> into VRT files. These can be encoded for your local installation of the <a href="http://cwb.sourceforge.net/" target="_blank">Corpus Workbench</a> using the following code - replace `path/to/data` by the path where your CQP corpus datafiles are stored, `path/to/r_output_file` by the path where the output generated by the R script (a file named "spokenbnc2014.vrt" if you haven't changed its name in the R script) is stored, and `path/to/registry/` by the path to your registry (by default, usr/local/share/cwb/registry in the current CWB version).

```

cwb-encode -d path/to/data/spokenbnc2014/ -f "path/to/r_output_file/spokenbnc2014.vrt" -R path/to/registry/spokenbnc2014 -P pos -P lemma -P class -S u:0+n+exactage+age1994+agerange+gender+nat+birthplace+birthcountry+l1+lingorig+dialect_rep+hab_city+hab_country+hab_dur+dialect_l1+dialect_l2+dialect_l3+dialect_l4+edqual+occupation+socgrade+nssec+l2+fls+in_core+who+trans+whoConfidence -S pause:0+dur -S shift:0+new -S foreign:0+lang -S unclear -S trunc -S vocal:0+desc -S event:0+desc -S text:0+id

cwb-makeall -r /usr/local/share/cwb/registry SPOKENBNC2014


```

(Some nested attributes will be dropped, feel free to play around with the code and improve it.)

For compressing the data, use

```
cwb-huffcode -r /path/to/registry spokenbnc2014

cwb-compress-rdx -r /path/to/registry spokenbnc2014

```